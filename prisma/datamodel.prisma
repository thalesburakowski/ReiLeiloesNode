type User {
  id: ID! @unique
  email: String! @unique
  password: String!
  flgAdmin: Boolean! @default(value: "false")
  active: Boolean! @default(value: "true")
  profile: Profile
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Profile {
  id: ID! @unique
  owner: User!
  name: String!
  lastName: String!
  cpf: String!
  rg: String!
  birthDate: DateTime!
  nickName: String!
  wallet: Wallet
  address: [Address!]
  creditCard: [CreditCard!]
  bankAccount: [BankAccount!]
  selling: [Auction!] @relation(name: "Owner")
  win: [Auction!] @relation(name: "Win")
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Address {
  id: ID! @unique
  owner: Profile!
  state: String!
  city: String!
  zipCode: String!
  neighboorhood: String!
  street: String!
  number: String!
  complement: String!
  name: String!
  active: Boolean! @default(value: "true")
  createdAt: DateTime!
  updatedAt: DateTime!
}

type CreditCard {
  id: ID! @unique
  owner: Profile!
  number: String!
  holder: String!
  expireDate: DateTime!
  securityCode: String!
  name: String!
  active: Boolean! @default(value: "true")
  createdAt: DateTime!
  updatedAt: DateTime!
}

type BankAccount {
  id: ID! @unique
  owner: Profile!
  bank: String!
  accountNumber: String!
  agencyNumber: String!
  ownerName: String!
  ownerCpf: String!
  name: String!
  active: Boolean! @default(value: "true")
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Wallet {
  id: ID! @unique
  owner: Profile!
  credits: Float!
  pendingCredits: Float!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Auction {
  id: ID! @unique
  owner: Profile! @relation(name: "Owner")
  winner: Profile @relation(name: "Win")
  title: String!
  categories: [Category!]
  description: String!
  height: Float!
  width: Float!
  depth: Float!
  initialPrice: Float!
  closePrice: Float!
  finalPrice: Float
  historic: [Bid!]
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Category {
  id: ID! @unique
  name: String!
  parentalRating: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Bid {
  id: ID! @unique
  owner: Profile!
  auction: Auction!
  value: Float!
  show: Boolean! @default(value: "true")
  createdAt: DateTime!
}

type AuctionRequest {
  id: ID! @unique
  auction: Auction!
  approved: Boolean!
  reason: String
  createdAt: DateTime!
}

type AuctionCancellationRequest {
  id: ID! @unique
  auction: Auction!
  ownerProfile: Profile!
  reasonRequest: String!
  status: String!
  reasonResponse: String
  createdAt: DateTime!
}
